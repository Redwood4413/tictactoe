(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const b=document.querySelector(".playing-board"),ue=document.querySelector(".wrapper"),E=document.querySelector(".first-avatar"),H=document.querySelector(".second-avatar");document.querySelector(".top-bar");const S=document.querySelector(".play-button"),ce=document.querySelectorAll(".random-button"),de=document.querySelector(".first-nickname-display"),pe=document.querySelector(".second-nickname-display"),M=document.querySelector(".first-nickname-input"),q=document.querySelector(".second-nickname-input"),G=document.querySelector(".first-points"),j=document.querySelector(".second-points"),O=document.querySelector(".move-count"),s=document.querySelector(".input-in-row"),m=document.querySelector(".input-size"),d=document.querySelector(".input-points"),T=document.querySelector(".alert-box"),W=document.querySelector(".counting-down-field"),Y=document.querySelector(".moving-field"),ye=document.querySelectorAll(".point-limit"),C=document.querySelector(".starting-field"),R=document.querySelector(".end-avatar-display"),U=document.querySelector(".end-nickname-display"),X=["Bogus\u0142aw","Bogumi\u0142","Bogdan","Borzymir","Borzygniew","Borys","Bo\u017Cydar","Boles\u0142aw","Bronis\u0142aw","Chwalibog","Ciechos\u0142aw","Dalibor","Dobromir","Dobros\u0142aw","Drogomir","Dobromys\u0142","Gniewomir","Go\u015Bciwuj","Iwo","Iwos\u0142aw","Jaros\u0142aw","Jaromir","Kazimierz","Krzesimir","Ludos\u0142aw","Ludomir","Lech","Lechos\u0142aw","Les\u0142aw","Miros\u0142aw","Mi\u0142orad","Mi\u0142osz","Mieszko","Milan","Mieczys\u0142aw","Przemys\u0142aw","Radzimir","Radomir","Racibor","Rados\u0142aw","S\u0142awomir","Stanis\u0142aw","S\u0142awobor","Siemis\u0142aw","Sobies\u0142aw","Sambor","Tomis\u0142aw","Tadeusz","W\u0142adys\u0142aw","W\u0142odzimierz","Witomys\u0142","Wojciech","Wac\u0142aw","Wies\u0142aw","Zbigniew","Zbyszko","Zlatan","Ziemowit","\u0179dzis\u0142aw"],ee=["Adamek","Adam","Adamcio","Anna","Babiarz","Babol","Bachryj","Bal","Balas","Balon","Ba\u0142aci\u0144ski","Bar\u0142\xF3g","B\u0105bel","B\u0105czymorda","Bednarz","Beksa","Be\u0142kot","Bezcipki","Bezcyc","Bezm\xF3zg","Bezszyjec","Bia\u0142y","Bia\u0142y Polak","Bieg","Bielasty","Bigiel","Bizon","B\u0142achut","Bol\u0105czka","Bolig\u0142owa","Brzoza","Bubel","Bucior","Burdelski","Burek","Bzdura","Bzibziak","Canibal","Cezary","Cham","Chmura","Chujdus","Chujeba","Chujoman","Chwa\u0142a","Chwiej","Chyba","Chytry","Ciapciak","Ci\u0105pa\u0142a","Cichowlas","Cie\u0107","Ciemi\u0119ga","Ciemniak","Psikutas","Cio\u0142ek","Ciota","G\u0142\u0105b","Gruz","Kozak"],K=document.querySelector(".first-dropdown-points"),V=document.querySelector(".second-dropdown-points"),k=document.querySelector(".end-round"),N=document.querySelector(".end-game"),te='<div class="circle"></div>',re='<div class="cross"></div>';let h=[],_,g,L,I,p,z=0,f=null,w=3,Z=!1,ie=null,D="other-player",r={player_1:{ID:1,nickname:"Guest",points:0,sign:String},player_2:{ID:2,nickname:"Guest",points:0,sign:String}};G.innerHTML=r.player_1.points;j.innerHTML=r.player_2.points;K.innerHTML=r.player_1.points;V.innerHTML=r.player_2.points;function J(){Math.random()>=.5?(E.style.border="4px rgb(23, 189, 23) solid",p=r.player_1.ID,r.player_1.sign=re,r.player_2.sign=te):(H.style.border="4px rgb(23, 189, 23) solid",p=r.player_2.ID,r.player_2.sign=re,r.player_1.sign=te)}function $(){_>99&&(_=99,g=99),oe(),b.style.width=`${120*g}px`,k.style.width=`${120*g}px`,W.style.width=`${120*g}px`,Y.style.width=`${120*g}px`,N.style.width=`${120*g}px`;for(let e=0;e<g;e++)for(let t=0;t<_;t++){const n=document.createElement("div");n.setAttribute("class","square"),n.setAttribute("x",`${t}`),n.setAttribute("y",`${e}`),n.setAttribute("clickID","0"),n.addEventListener("click",me),h.push(n)}h.forEach(e=>{b.appendChild(e)})}function me(e){const t=e.currentTarget;L=Number(t.getAttribute("x")),I=Number(t.getAttribute("y")),t.getAttribute("clickID")==="0"&&(window.navigator.vibrate(35),z+=1,O.innerHTML=z,e.target.classList.remove("square-hover"),console.log({playingWith:D}),p==r.player_1.ID?(t.setAttribute("clickID",r.player_1.ID),t.innerHTML=r.player_1.sign):D=="other-player"&&(t.setAttribute("clickID",r.player_2.ID),t.innerHTML=r.player_2.sign),ge(),be(),_*g==z?k.style.display="flex":D=="other-player"&&fe())}function fe(){p===r.player_1.ID?(p=r.player_2.ID,f||(E.style.border="",H.style.border="3px rgb(23, 189, 23) solid")):(p=r.player_1.ID,f||(H.style.border="",E.style.border="3px rgb(23, 189, 23) solid"))}function ge(){let e,t=0,n=0;const o=[];for(let i=0;i<g;i++)if(e=h.find(l=>l.getAttribute("x")==L&&l.getAttribute("y")==i),e.getAttribute("clickID")==p?(n+=1,o.push(e),n==w&&(f=p,x(),d.value==r.player_1.points||d.value==r.player_2.points?B():k.style.display="flex")):(o.pop(e),n=0),f){o.forEach(l=>l.style.backgroundColor="green");break}for(let i=0;i<_;i++)if(e=h.find(l=>l.getAttribute("y")==I&&l.getAttribute("x")==i),e.getAttribute("clickID")==p?(t+=1,o.push(e),t==w&&(f=p,x(),d.value==r.player_1.points||d.value==r.player_2.points?B():k.style.display="flex")):(o.pop(e),t=0),f){o.forEach(l=>l.style.backgroundColor="green");break}}function be(){let e,t=0,n=0,o=0,i=0;const l=[];for(let a=0;a<g;a++)if(e=h.find(c=>c.getAttribute("x")==L+a&&c.getAttribute("y")==I+a),!!e&&(e.getAttribute("clickID")==p?(t+=1,l.push(e),t==w&&(f=p,x(),d.value==r.player_1.points||d.value==r.player_2.points?B():k.style.display="flex")):(l.pop(e),t=0),f)){l.forEach(c=>c.style.backgroundColor="green");break}for(let a=0;a<g;a++)if(e=h.find(c=>c.getAttribute("x")==L-a&&c.getAttribute("y")==I-a),!!e&&(e.getAttribute("clickID")==p?(n+=1,l.push(e),n==w&&(f=p,x(),d.value==r.player_1.points||d.value==r.player_2.points?B():k.style.display="flex")):(l.pop(e),n=0),f)){l.forEach(c=>c.style.backgroundColor="green");break}for(let a=0;a<g;a++)if(e=h.find(c=>c.getAttribute("x")==L+a&&c.getAttribute("y")==I-a),!!e&&(e.getAttribute("clickID")==p?(o+=1,l.push(e),o==w&&(f=p,x(),d.value==r.player_1.points||d.value==r.player_2.points?B():k.style.display="flex")):(l.pop(e),o=0),f)){l.forEach(c=>c.style.backgroundColor="green");break}for(let a=0;a<g;a++)if(e=h.find(c=>c.getAttribute("x")==L-a&&c.getAttribute("y")==I+a),!!e&&(e.getAttribute("clickID")==p?(i+=1,l.push(e),i==w&&(f=p,x(),d.value==r.player_1.points||d.value==r.player_2.points?B():k.style.display="flex")):(l.pop(e),i=0),f)){l.forEach(c=>c.style.backgroundColor="green");break}}function x(){f==1?(r.player_1.points+=1,G.innerHTML=r.player_1.points,K.innerHTML=r.player_1.points):(r.player_2.points+=1,j.innerHTML=r.player_2.points,V.innerHTML=r.player_2.points)}function ve(){u[1].getAttribute("clicked")==="false"?D="other-player":D="bot",N.style.display=="flex"&&(N.style.display="none",r.player_1.points=0,G.innerHTML=r.player_1.points,K.innerHTML=r.player_1.points,r.player_2.points=0,j.innerHTML=r.player_2.points,V.innerHTML=r.player_2.points,O.innerHTML=0,E.style.border="",H.style.border=""),ye.forEach(o=>o.innerHTML=d.value),(s.value<3||s.value>99)&&(m.value<=5&&m.value>=3?w=m.value:w=5),M.value&&(r.player_1.nickname=M.value),q.value&&(r.player_2.nickname=q.value),de.innerHTML=r.player_1.nickname,pe.innerHTML=r.player_2.nickname,w=s.value,M.value&&(r.player_1.nickname=M.value),q.value&&(r.player_2.nickname=q.value);let e;clearInterval(e),e=setInterval(n,1e3);let t=3;function n(){W.style.display="flex",t>=0?(W.innerHTML=t,t--):(clearInterval(e),J(),W.style.display="none")}n(),Ae()}function ke(e){let t=Math.floor(Math.random()*59),n=Math.floor(Math.random()*59);e.target.getAttribute("id")=="1"?(r.player_1.nickname=`${X[t]} ${ee[n]}`,M.value=r.player_1.nickname):(r.player_2.nickname=`${X[t]} ${ee[n]}`,q.value=r.player_2.nickname)}function B(){N.style.display="flex",f==1?(R.style.background='url("images/first.png") no-repeat center ',U.innerHTML=r.player_1.nickname,R.style.backgroundSize="80px"):(R.style.background='url("images/second.png") no-repeat center ',U.innerHTML=r.player_2.nickname,R.style.backgroundSize="80px")}function ne(){z=0,O.innerHTML=z,oe(),window.navigator.vibrate(35),E.style.border="",H.style.border="",k.style.display="none",$(),J(),f=null}function oe(){h.forEach(e=>{b.removeChild(e)}),h=[]}function Q(){const e=T.querySelector('div[id="1"]'),t=T.querySelector('div[id="2"]'),n=T.querySelector('div[id="3"]'),o=T.querySelector('div[id="4"]');let i=!0,l=!0,a=!0,c=!0;if(d.value=Math.floor(d.value),d.value<3||d.value>99){i=!1,S.disabled=!0,d.style.borderImage="linear-gradient(rgb(209, 26, 26), rgb(194, 52, 24)) 1";const A=document.createTextNode("Points are must be set between 3 and 99."),y=document.createElement("div");y.setAttribute("id","1"),y.append(A),T.append(y),setTimeout(()=>{y.remove()},8e3)}else e==null||e.remove(e),i=!0,d.style.borderImage="linear-gradient(rgb(26, 209, 47), rgb(24, 128, 194)) 1";if(m.value=Math.floor(m.value),m.value<3||m.value>99){l=!1,S.disabled=!0,m.style.borderImage="linear-gradient(rgb(209, 26, 26), rgb(194, 52, 24)) 1";const A=document.createTextNode("Size must be set between 3 and 99."),y=document.createElement("div");y.setAttribute("id","3"),y.append(A),T.append(y),setTimeout(()=>{y.remove()},8e3)}else n==null||n.remove(n),l=!0,m.style.borderImage="linear-gradient(rgb(26, 209, 47), rgb(24, 128, 194)) 1";if(s.disabled=!1,g=m.value,_=m.value,$(),u[2].style.backgroundColor="rgb(64, 64, 64)",u[2].style.color="white",u[2].setAttribute("clicked","false"),m.value<=5&&(s.disabled=!0,s.value=m.value),m.value>=5&&(s.value<5&&(s.value=5),s.setAttribute("min","5"),s.setAttribute("max",m.value)),m.value==3&&(s.disabled=!0,u[2].style.background="rgb(209, 209, 209)",u[2].style.color="black",u[2].setAttribute("clicked","true")),s.value=Math.floor(s.value),s.value<3&&s.value>99){a=!1,S.disabled=!0,s.style.borderImage="linear-gradient(rgb(209, 26, 26), rgb(194, 52, 24)) 1";const A=document.createTextNode("In-row field must be set between 3 and 99."),y=document.createElement("div");y.setAttribute("id","2"),y.append(A),T.append(y),setTimeout(()=>{y.remove()},8e3)}else t==null||t.remove(t),a=!0,s.style.borderImage="linear-gradient(rgb(26, 209, 47), rgb(24, 128, 194)) 1";let ae=Number(s.value),se=Number(m.value);if(ae>se){c=!1,S.disabled=!0,s.style.borderImage="linear-gradient(rgb(209, 26, 26), rgb(194, 52, 24)) 1";const A=document.createTextNode("In-row field can't be greater than Size value."),y=document.createElement("div");y.setAttribute("id","4"),y.append(A),T.append(y),setTimeout(()=>{y.remove()},8e3)}else o==null||o.remove(o),c=!0,s.style.borderImage="linear-gradient(rgb(26, 209, 47), rgb(24, 128, 194)) 1";i&&l&&a&&c&&(S.disabled=!1)}S.addEventListener("click",ve);k.addEventListener("click",ne);const u=document.querySelectorAll(".input-section button");u.forEach(e=>{e.addEventListener("mousedown",t=>{t.currentTarget==u[0]&&(t.currentTarget.style.background="rgb(209, 209, 209)",t.currentTarget.style.color="black",t.currentTarget.setAttribute("clicked","true"),u[1].style.backgroundColor="rgb(64, 64, 64)",u[1].style.color="white",u[1].setAttribute("clicked","false")),t.currentTarget==u[1]&&(t.currentTarget.style.background="rgb(209, 209, 209)",t.currentTarget.style.color="black",t.currentTarget.setAttribute("clicked","true"),u[0].style.backgroundColor="rgb(64, 64, 64)",u[0].style.color="white",u[0].setAttribute("clicked","false")),t.currentTarget==u[2]&&(_=3,g=3,m.value=3,w=3,s.value=3,s.disabled=!0,S.disabled=!1,$(),t.currentTarget.style.background="rgb(209, 209, 209)",t.currentTarget.style.color="black",t.currentTarget.setAttribute("clicked","true"),u[3].style.backgroundColor="rgb(64, 64, 64)",u[3].style.color="white",u[3].setAttribute("clicked","false")),t.currentTarget==u[3]&&(s.disabled=!1,s.setAttribute("min","5"),$(),t.currentTarget.style.background="rgb(209, 209, 209)",t.currentTarget.style.color="black",t.currentTarget.setAttribute("clicked","true"),u[2].style.backgroundColor="rgb(64, 64, 64)",u[2].style.color="white",u[2].setAttribute("clicked","false"))})});ce.forEach(e=>{e.addEventListener("click",ke)});ue.addEventListener("wheel",he);function he(e){e.preventDefault(),P+=e.deltaY*-.001,P=Math.min(Math.max(.125,P),5),b.style.transform=`scale(${P})`}let P=1;function le({movementX:e,movementY:t}){if(!Z)return;let n=window.getComputedStyle(b),o=parseInt(n.left),i=parseInt(n.top);b.style.left=`${o+e}px`,b.style.top=`${i+t}px`}b.addEventListener("mousedown",()=>{Z=!0,ie=setTimeout(()=>{Y.style.display="flex",b.addEventListener("mousemove",le)},120)});document.addEventListener("mouseup",()=>{Z=!1,clearTimeout(ie),Y.style.display="none",b.removeEventListener("mousemove",le)});d.addEventListener("change",Q);s.addEventListener("change",Q);m.addEventListener("change",Q);N.addEventListener("click",()=>{C.style.visibility="visible",C.style.opacity=1,ne()});let v="",F;window.addEventListener("keydown",e=>{const t=document.querySelector(".console-popup");if(e.key=="`"&&(t.style.visibility=="visible"?t.style.visibility="hidden":t.style.visibility="visible"),t.style.visibility=="visible"){if(e.keyCode>=49&&e.keyCode<=90&&(v+=e.key,t.innerHTML=v),e.key=="Enter"&&v.length>0){let n=!1;if(v=="developer"){if(n=!0,F=localStorage.developer,F=="true"){localStorage.developer="false";const o=document.createElement("span"),i=document.createTextNode("Developer mode is toggled OFF.");o.append(i),t.append(o)}else{localStorage.developer="true";const o=document.createElement("span"),i=document.createTextNode("Developer mode is toggled ON.");o.append(i),t.append(o)}v="",we()}if(v=="kremowka"){n=!0;const o=document.createElement("span"),i=document.createTextNode("2137.");o.append(i),t.append(o),Te(),v=""}if(!n){const o=document.createElement("span"),i=document.createTextNode("Unknown command.");o.append(i),t.append(o),v=""}}e.key=="Backspace"&&(v=v.slice(0,-1),t.innerHTML=v)}});function we(){const e=document.querySelector(".counting-down-field");F=localStorage.developer,F=="true"?(C.style.visibility="hidden",e.style.visibility="hidden",J()):(C.style.visibility="visible",e.style.visibility="visible"),console.log({turn:p})}function Te(){const e=new Audio("audio/barkaTRAP.mp3");e.volume=.2,e.play();const t=document.createElement("div");t.setAttribute("class","kremowka"),document.body.prepend(t);let n=null,o=-30;clearInterval(n),n=setInterval(i,20);function i(){o>100?(clearInterval(n),document.body.removeChild(t)):(o+=.5,t.style.top=`${o}vh`)}}function Ae(){let e=null,t=100;clearInterval(e),e=setInterval(n,7);function n(){t==0?(clearInterval(e),C.style.visibility="hidden"):(t--,C.style.opacity=`${t}%`)}}b.addEventListener("mouseover",Se);function Se(e){e.target.getAttribute("clickID")=="0"&&!f&&(p==r.player_1.ID?e.target.innerHTML=r.player_1.sign:e.target.innerHTML=r.player_2.sign,e.target.classList.add("square-hover")),b.addEventListener("mouseout",t=>{t.target.getAttribute("clickID")=="0"&&(t.target.innerHTML=""),f||(t.target.classList.remove("square-hover"),k.style.background="rgba(0, 0, 0, 0.302)")})}
